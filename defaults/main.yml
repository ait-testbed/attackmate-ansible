# defaults file for ansible-attackmate
attackmate_packages:
  - python3
  - python3-pip
  - python3-virtualenv
  - git
  - python3-venv
  - libmagic1

attackmate_dev_packages:
  - build-essential
  - python3-dev
  - libssl-dev

attackmate_url: "https://github.com/ait-testbed/attackmate.git"
attackmate_version: "main"
attackmate_shared_dir: "/usr/local/share"
attackmate_dest: "{{ attackmate_shared_dir }}/attackmate"
attackmate_sliverfix: True
attackmate_grpc_dest: "{{ attackmate_shared_dir }}/grpc"
attackmate_bindir: "/usr/local/bin"
attackmate_tmux: True
attackmate_tmux_session: "default"
attackmate_tmux_window: "attackmate"
attackmate_config_dir: "/etc/attackmate"
attackmate_playbook_path: "{{ attackmate_config_dir }}/playbooks"
attackmate_playbooks: []
attackmate_config_tpl: "attackmate.yml.j2"
# attackmate_sliver_config: "/home/aecid/.sliver-client/configs/aecid_localhost.cfg"
# attackmate_msf_server: localhost
# attackmate_msf_passwd: hackerman

#playwright
attackmate_playwright: True
attackmate_playwright_browser_cache: "/usr/local/share/attackmate/ms-playwright" 
playwright_dependencies:
  debian:
    "12":
      - libasound2
      - libnss3
      - libnspr4
    "13":
      - libnspr4
      - libnss3
      - libdbus-1-3
      - libatk1.0-0t64
      - libatk-bridge2.0-0t64
      - libatspi2.0-0t64
      - libxcomposite1
      - libxdamage1
      - libxfixes3
      - libxrandr2
      - libgbm1
      - libxkbcommon0
      - libgdk-pixbuf-xlib-2.0-0
      - libjpeg62-turbo
      - fonts-unifont
      - libasound2
  ubuntu:
    "22.04":
      - libasound2
      - libnss3
      - libnspr4
    "24.04":
      - libasound2t64
      - libnss3
      - libnspr4
  kali:
    rolling:
      - libasound2t64
      - libnss3
      - libnspr4
      - libglib2.0-0
      - libdbus-1-3
      - libatk1.0-0
      - libatk-bridge2.0-0
      - libatspi2.0-0
      - libxcomposite1
      - libxdamage1
      - libxfixes3
      - libxrandr2
      - libgbm1
      - libxkbcommon0
attackmate_playwright_pip_packages:  # Python packages to install into the AttackMate venv
  - playwright

#sliverfix
grpc_patch_url:
  debian:
    "12": "{{ grpc_download_base_url }}/{{ distribution_lower }}/{{ ansible_distribution_major_version }}/{{ ansible_architecture }}/current"
    "13": "{{ grpc_download_base_url }}/{{ distribution_lower }}/{{ ansible_distribution_major_version }}/{{ ansible_architecture }}/current"
  ubuntu:
    "22.04": "{{ grpc_download_base_url }}/{{ distribution_lower }}/{{ ansible_distribution_version }}/{{ ansible_architecture }}/current"
    "24.04": "{{ grpc_download_base_url }}/{{ distribution_lower }}/{{ ansible_distribution_version }}/{{ ansible_architecture }}/current"
  kali:
    rolling:  "{{ grpc_download_base_url }}/{{ distribution_lower }}/{{ ansible_distribution_version }}/{{ ansible_architecture }}/current"

grpc_download_base_url: "https://aecidimages.ait.ac.at/EXTRA/grpc"
distribution_lower: "{{ ansible_distribution | lower }}"